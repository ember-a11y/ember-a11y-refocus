{"version":3,"file":"routing.js","sources":["../../src/utils/routing.ts"],"sourcesContent":["import type RouteInfo from '@ember/routing/route-info';\n\nexport interface RouteInfoLike {\n  name: string;\n  params: Record<string, unknown>;\n  queryParams: Record<string, unknown>;\n  parent: RouteInfoLike | RouteInfo | null;\n}\n\n/**\n * Returns true if the given RouteInfo objects represent the same route in the\n * tree, with matching params and query params.\n */\nexport function routeInfoEqual(\n  a: RouteInfoLike | RouteInfo | null | undefined | void,\n  b: RouteInfoLike | RouteInfo | null | undefined | void,\n): boolean {\n  let current_a: RouteInfoLike | RouteInfo | null | undefined | void = a;\n  let current_b: RouteInfoLike | RouteInfo | null | undefined | void = b;\n\n  do {\n    if (!current_a || !current_b) {\n      return false;\n    }\n\n    if (current_a.name !== current_b.name) {\n      return false;\n    }\n\n    if (\n      !shallowEqual(\n        current_a.params as Record<string, unknown>,\n        current_b.params as Record<string, unknown>,\n      )\n    ) {\n      return false;\n    }\n\n    if (\n      !shallowEqual(\n        current_a.queryParams as Record<string, unknown>,\n        current_b.queryParams as Record<string, unknown>,\n      )\n    ) {\n      return false;\n    }\n\n    current_a = current_a.parent;\n    current_b = current_b.parent;\n  } while (current_a || current_b);\n\n  return true;\n}\n\nfunction shallowEqual(\n  a: Record<string, unknown>,\n  b: Record<string, unknown>,\n): boolean {\n  const keys = new Set([...Object.keys(a), ...Object.keys(b)]);\n\n  for (const key of keys) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n"],"names":["routeInfoEqual","a","b","current_a","current_b","name","shallowEqual","params","queryParams","parent","keys","Set","Object","key"],"mappings":"AASA;AACA;AACA;AACA;AACO,SAASA,cAAcA,CAC5BC,CAAsD,EACtDC,CAAsD,EAC7C;EACT,IAAIC,SAA8D,GAAGF,CAAC;EACtE,IAAIG,SAA8D,GAAGF,CAAC;EAEtE,GAAG;AACD,IAAA,IAAI,CAACC,SAAS,IAAI,CAACC,SAAS,EAAE;AAC5B,MAAA,OAAO,KAAK;AACd,IAAA;AAEA,IAAA,IAAID,SAAS,CAACE,IAAI,KAAKD,SAAS,CAACC,IAAI,EAAE;AACrC,MAAA,OAAO,KAAK;AACd,IAAA;IAEA,IACE,CAACC,YAAY,CACXH,SAAS,CAACI,MAAM,EAChBH,SAAS,CAACG,MACZ,CAAC,EACD;AACA,MAAA,OAAO,KAAK;AACd,IAAA;IAEA,IACE,CAACD,YAAY,CACXH,SAAS,CAACK,WAAW,EACrBJ,SAAS,CAACI,WACZ,CAAC,EACD;AACA,MAAA,OAAO,KAAK;AACd,IAAA;IAEAL,SAAS,GAAGA,SAAS,CAACM,MAAM;IAC5BL,SAAS,GAAGA,SAAS,CAACK,MAAM;EAC9B,CAAC,QAAQN,SAAS,IAAIC,SAAS;AAE/B,EAAA,OAAO,IAAI;AACb;AAEA,SAASE,YAAYA,CACnBL,CAA0B,EAC1BC,CAA0B,EACjB;EACT,MAAMQ,IAAI,GAAG,IAAIC,GAAG,CAAC,CAAC,GAAGC,MAAM,CAACF,IAAI,CAACT,CAAC,CAAC,EAAE,GAAGW,MAAM,CAACF,IAAI,CAACR,CAAC,CAAC,CAAC,CAAC;AAE5D,EAAA,KAAK,MAAMW,GAAG,IAAIH,IAAI,EAAE;IACtB,IAAIT,CAAC,CAACY,GAAG,CAAC,KAAKX,CAAC,CAACW,GAAG,CAAC,EAAE;AACrB,MAAA,OAAO,KAAK;AACd,IAAA;AACF,EAAA;AAEA,EAAA,OAAO,IAAI;AACb;;;;"}